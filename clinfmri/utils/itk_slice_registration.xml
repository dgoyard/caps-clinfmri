<pipeline>
    <docstring>
        Register slices in an EPI 4D volume.
    </docstring>
    <units>
        <unit name="register">
            <module>clinfmri.utils.itk_slice_registration.slice_registration</module>
            <set name="slice_shift" value="5"/>
            <set name="registration_prefix" value="'w'"/>
            <set name="transformation_prefix" value="'w'"/>
            <set name="verbose" value="0"/>
            <set name="output_directory" value="Undefined"/>
            <set name="transformation_file" value="None"/>
        </unit>
        <unit name="do_nothing">
            <module>mmutils.adapters.io.noprocess_switch</module>
        </unit>
        <switch name="do_registration">
            <path name="no">
                <unit name="do_nothing"/>
            </path>
            <path name="yes">
                <unit name="register"/>
            </path>
        </switch>
    </units>
    <links>
        <!-- INPUTS -->
        <link source="input_file" destination="register.in_file"/>
        <link source="input_file" destination="do_nothing.input_value"/>
        <!-- OUTPUTS -->
        <link source="do_nothing.output_value" destination="registered_file_no"/>
        <link source="register.register_file" destination="registered_file_yes"/>
    </links>
    <positions>
        <position unit="inputs" x="-372" y="25"/>
        <position unit="register" x="-213" y="132"/>
        <position unit="do_registration" x="-30" y="11"/>
        <position unit="do_nothing" x="-50" y="21"/>
        <position unit="outputs" x="165" y="156"/>
    </positions>
    <scale factor="0.7"/> 
</pipeline>
